## ComputerVison

**1.高斯滤波的作用，举例？**

高斯滤波主要用于降噪并平滑数据，核心原理是用加权平均来模糊细节，同时保留信号的主要特征。

```python
from scipy.ndimage import gaussian_filter
# d是一个二维数组
d = gaussian_filter(d, sigma=4)
```

- `sigma` 是高斯函数的标准差，控制模糊程度。
- 实际卷积核大小由 `sigma` 自动决定（通常为 2×⌈3σ⌉+1）。
- 当 `sigma=4` 时，核大小约为 25×25（计算：2×12+1=25）

**对比不同 `sigma` 的效果**

| `sigma` 值 | 核大小（近似） | 效果                       |
| :--------- | :------------- | :------------------------- |
| 1          | 7×7            | 轻微去噪，保留细节         |
| 4          | 25×25          | 强平滑，适合大幅降噪或模糊 |
| 0.5        | 3×3            | 弱平滑，仅抑制微小噪声     |

>  **例子**

假设原始数据是一个 3x3 的二维数组（例如图像的一小块像素值），实际scipy的实现方式还有不同，主要在卷积核大小的确定：

```python
import numpy as np
d = np.array([
    [1, 2, 1],
    [2, 4, 2],
    [1, 2, 1]
], dtype=float)
```

**Step1：生成高斯核（sigma=1）**

高斯核的权重由二维高斯函数计算。对于 `sigma=1`，一个 3x3 的高斯核（已归一化）如下：

```python
# 高斯核公式：G(x,y) = (1/(2πσ²)) * exp(-(x²+y²)/(2σ²))
sigma = 1
kernel = np.array([
    [np.exp(-(x**2 + y**2)/(2 * sigma**2)) 
    for x in [-1, 0, 1]
] 
for y in [-1, 0, 1]
])
kernel = kernel / kernel.sum()  # 归一化
print("高斯核（sigma=1）：\n", kernel)
```

输出：

```
高斯核（sigma=1）：
 [[0.07511361 0.1238414  0.07511361]
 [0.1238414  0.20417996 0.1238414 ]
 [0.07511361 0.1238414  0.07511361]]
```

**Step2：卷积计算(以中心点为例)**

计算滤波后中心点 `(1,1)` 的值（即原值为 `4` 的位置）：

1. 将高斯核的中心对准 `d[1,1]`，逐元素相乘后求和：

```
新值 = (1*0.075 + 2*0.124 + 1*0.075 +
        2*0.124 + 4*0.204 + 2*0.124 +
        1*0.075 + 2*0.124 + 1*0.075)
     = 2.124
```

2. 其他位置同理（边缘通过填充处理，默认填充方式为反射）。

**最终滤波结果**

```
滤波结果：
 [[1.124 1.75  1.124]
 [1.75  2.124 1.75 ]
 [1.124 1.75  1.124]]
```

**计算过程总结**

1. **高斯核权重**：由 `sigma` 控制，离中心越远权重越小。
2. **卷积操作**：核与输入数组逐点相乘后求和。
3. **边界处理**：默认填充边缘像素（如反射填充）。

**直观解释**

- **原始数组 `d`**：中心点 `4` 是突出值（类似图像中的亮点）。
- **滤波后**：中心值从 `4` 降为 `2.124`，周围值被平滑过渡，实现去噪效果。

**参数影响**

- 若 `sigma=0.5`：核更集中，平滑效果更弱。
- 若 `sigma=4`：核更分散，中心点值会更接近周围平均值（如从 `4` 降至 `1.5` 左右）。

















